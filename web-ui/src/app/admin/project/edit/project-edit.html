<md-content flex layout="column">
  <md-tabs flex layout="column" md-border-bottom class="md-full-tabs-template">

    <md-tab flex layout="column">
      <md-tab-label>Configuration file</md-tab-label>
      <md-tab-body flex layout="column">
        <project-config config="vm.project"></project-config>
      </md-tab-body>
    </md-tab>

    <md-tab>
      <md-tab-label>Runs & Logs</md-tab-label>
      <md-tab-body flex class="md-padding">
        <md-list>

          <md-subheader>Now running...</md-subheader>

          <md-list-item class="md-2-line" ng-click="vm.showLog(run)" ng-repeat="run in vm.runs | filter:{date_end:'!'}">
            <md-icon>receipt</md-icon>
            <div class="md-list-item-text" layout="column">
              <h3>Started on {{ run.date_start | date:'shortDate' }}</h3>
            </div>
            <md-button ng-click="vm.stop(run)" class="md-icon-button md-accent" aria-label="Stop">
              <md-icon>stop</md-icon>
            </md-button>
          </md-list-item>
          <md-divider></md-divider>

          <md-subheader>Past executions</md-subheader>

          <md-list-item class="md-2-line" ng-click="vm.showLog(run)" ng-repeat="run in vm.runs| filter:{date_end:'!!'}">
            <md-icon>receipt</md-icon>
            <div class="md-list-item-text" layout="column">
              <h3>Started on {{ run.date_start | date:'shortDate' }}</h3>
              <h4>Finished on {{ run.date_end | date: 'shortDate' }}</h4>
            </div>
          </md-list-item>

        </md-list>
      </md-tab-body>
    </md-tab>
  </md-tabs>
</md-content>
